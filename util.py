import math
import random
import googlemaps
import numpy as np

def get_api_key():
	with open('../gmaps_api_key.txt', 'r') as f:
		k = f.readline()
	return k

def get_locations(places):
	locations = []
	for p in places['results']:
		locations.append((p['geometry']['location']['lat'], p['geometry']['location']['lng']))
	return locations

def get_test_data():
	test = {'status': 'OK', 'results': [{'user_ratings_total': 82, 'formatted_address': '1281 Fulton St, Brooklyn, NY 11216, USA', 'geometry': {'viewport': {'northeast': {'lng': -73.94880777010727, 'lat': 40.68183612989272}, 'southwest': {'lng': -73.95150742989271, 'lat': 40.67913647010728}}, 'location': {'lng': -73.9501499, 'lat': 40.6805564}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png', 'photos': [{'width': 4048, 'height': 3036, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/113093213970275948221/photos">Rob Lariviere</a>'], 'photo_reference': 'CmRaAAAACXGTSjOZXYtfRPxnA72A75TueyR4wf7HWaYDa4Ri0S7HQPdSFe-whBPdfkofxSzhhUg84xgJ7KXsWJFsDELQB0uAvQCCp0TpuQNRDCU8318nKMQbz6UCEf0_a0NOCwLiEhB2Drb1shnUfW5s2FBw86OpGhTEbLNZWOsMizPQieIuGDBuLLCOZQ'}], 'price_level': 2, 'opening_hours': {'open_now': True}, 'types': ['convenience_store', 'clothing_store', 'store', 'health', 'point_of_interest', 'food', 'establishment'], 'rating': 2.9, 'place_id': 'ChIJM7SCj5pbwokRsRvq9GWLf3g', 'id': '8183cb0ec295a1db79e320a2e274910ae1458b3b', 'name': 'Walgreens', 'reference': 'ChIJM7SCj5pbwokRsRvq9GWLf3g', 'plus_code': {'global_code': '87G8M2JX+6W', 'compound_code': 'M2JX+6W Brooklyn, New York, USA'}}, {'user_ratings_total': 39, 'formatted_address': '1134 E New York Ave, Brooklyn, NY 11212, USA', 'geometry': {'viewport': {'northeast': {'lng': -73.92324147010727, 'lat': 40.66750242989273}, 'southwest': {'lng': -73.92594112989272, 'lat': 40.66480277010729}}, 'location': {'lng': -73.9245031, 'lat': 40.6660362}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png', 'photos': [{'width': 480, 'height': 640, 'html_attributions': ['A Google User'], 'photo_reference': 'CmRaAAAAy0SnRzLzUmO4d45TLjWGnavfw7svVbWzczECqkf59jw0vlN_i81-8dkeNRMpDlOs5MHFjx2UkqWEBXNLDlHkw0gb4pXyUB9IDxV3Y3uwJ6V-fbSpS8zL45VmDVDOj6iIEhDNCw05m77UHvsOfT91sBX1GhSpZkAkYKbGsxuyXngOslFBDvz0wA'}], 'price_level': 2, 'opening_hours': {'open_now': True}, 'types': ['convenience_store', 'clothing_store', 'store', 'health', 'point_of_interest', 'food', 'establishment'], 'rating': 4.2, 'place_id': 'ChIJk5KM0IdcwokRBR7hW2CWbtk', 'id': '1e553573859f92f3ed4c902643713902cdd92b80', 'name': 'Walgreens', 'reference': 'ChIJk5KM0IdcwokRBR7hW2CWbtk', 'plus_code': {'global_code': '87G8M38G+C5', 'compound_code': 'M38G+C5 Brooklyn, New York, USA'}}, {'user_ratings_total': 22, 'formatted_address': "1040 Saint John's Place, Brooklyn, NY 11213, United States", 'geometry': {'viewport': {'northeast': {'lng': -73.94210377010728, 'lat': 40.67254537989272}, 'southwest': {'lng': -73.94480342989272, 'lat': 40.66984572010728}}, 'location': {'lng': -73.9434606, 'lat': 40.6711228}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png', 'photos': [{'width': 3024, 'height': 4032, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/108492738181551111937/photos">Cherishe Cumma</a>'], 'photo_reference': 'CmRaAAAA_x2BJ_JcnlBaW_lBvXYbz97_yEUFQIJh_rpRz1unklR6y2FIrzuDTF8BsdIqE4xJ4UKIz3kTRe8YgiKboj4BA7wCBkt_ZmoZvyigIUHlDnwv6UW6ACdLWq1KO1JLihVWEhCxjsON6HzHKexdfpjT2UrSGhQVm76ccSlxqzB-WtbCIS-Mro4dsw'}], 'price_level': 2, 'opening_hours': {'open_now': True}, 'types': ['convenience_store', 'store', 'health', 'point_of_interest', 'food', 'establishment'], 'rating': 3.3, 'place_id': 'ChIJ34CXcoJbwokRooXPDaY5-z8', 'id': '40bfc0c489d82aa394d1f2ef9a85a00d86f573f5', 'name': 'Rite Aid', 'reference': 'ChIJ34CXcoJbwokRooXPDaY5-z8', 'plus_code': {'global_code': '87G8M3C4+CJ', 'compound_code': 'M3C4+CJ Brooklyn, New York, USA'}}, {'user_ratings_total': 42, 'formatted_address': '1251 Nostrand Ave, Brooklyn, NY 11225, USA', 'geometry': {'viewport': {'northeast': {'lng': -73.94867847010727, 'lat': 40.65784357989272}, 'southwest': {'lng': -73.95137812989272, 'lat': 40.65514392010728}}, 'location': {'lng': -73.94987239999999, 'lat': 40.6565034}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png', 'photos': [{'width': 2268, 'height': 4032, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/114209338228735612719/photos">Markus Little</a>'], 'photo_reference': 'CmRaAAAAyt3JkH1HVlCjl9fExka2daa5lhLf-J1vvcG-vz9NNu3oIswJAhdoMe0A1-Vy7BKu2Q_tKrWmwSBzpjarLoFDx2qhxUH9TBLRoqboHJqF1ZkPGEyeF99qKdeh6WYfTCuAEhDUZngzYu0tyBzHOaqkev3zGhR4EE_UqgkEjKu3_QnQWur6o-gWNg'}], 'opening_hours': {'open_now': True}, 'types': ['convenience_store', 'store', 'health', 'point_of_interest', 'food', 'establishment'], 'rating': 2.5, 'place_id': 'ChIJh9nY0mhbwokRvAHkmdCzJwA', 'id': '10cab12377ac15a23572fc6998bdaf015c646ec0', 'name': 'CVS', 'reference': 'ChIJh9nY0mhbwokRvAHkmdCzJwA', 'plus_code': {'global_code': '87G8M342+J3', 'compound_code': 'M342+J3 New York, USA'}}, {'user_ratings_total': 46, 'formatted_address': '1679 Bedford Ave, Brooklyn, NY 11225, USA', 'geometry': {'viewport': {'northeast': {'lng': -73.95547372010728, 'lat': 40.66670112989272}, 'southwest': {'lng': -73.95817337989273, 'lat': 40.66400147010727}}, 'location': {'lng': -73.9566685, 'lat': 40.6653192}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png', 'photos': [{'width': 251, 'height': 250, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/105916572461659101384/photos">Rite Aid</a>'], 'photo_reference': 'CmRaAAAARPpLnaz4IzjhBShSg2DuT79HcPkbweLnIub_Q-RLWaoMzn7_r_4WUB64RFbtpmKxmuWFs34L_Fak8uMA_anNUOY4hllexKHezxHN8HnxgM3w2rJekJczymUFHnERVIlCEhAkWhoqGGbuSJ33sJRqdYrsGhRocBxx5dVciCbHdkw1SgJnmDdSxQ'}], 'price_level': 2, 'opening_hours': {'open_now': True}, 'types': ['convenience_store', 'store', 'health', 'point_of_interest', 'food', 'establishment'], 'rating': 2.6, 'place_id': 'ChIJI73xBnNbwokR2ohNEnrzT5I', 'id': '9491b3e6d890ff972d5d2a862a4eecb8cf5a1afb', 'name': 'Rite Aid', 'reference': 'ChIJI73xBnNbwokR2ohNEnrzT5I', 'plus_code': {'global_code': '87G8M28V+48', 'compound_code': 'M28V+48 Brooklyn, New York, USA'}}, {'user_ratings_total': 39, 'formatted_address': '355 Knickerbocker Ave, Brooklyn, NY 11237, USA', 'geometry': {'viewport': {'northeast': {'lng': -73.92034107010727, 'lat': 40.70215507989271}, 'southwest': {'lng': -73.92304072989272, 'lat': 40.69945542010727}}, 'location': {'lng': -73.92163, 'lat': 40.700867}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png', 'photos': [{'width': 2576, 'height': 1932, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/100990370644717594645/photos">Barbara Herrera</a>'], 'photo_reference': 'CmRaAAAA4FNJSLLvSr74kJdzSZj6vOYTHjdV5IORwiNjIoyZZi7D8R9sBFUSxlyaOF0rwjkSBAivbQF9RlFr4w1c5vH_TmA6l9uvE0XApKgMWnjv7JrYIpMLLWjPKopUbw5QnufkEhC3WJB8pxH-oIUzLiYCUmpVGhRTRKz0Ad306jyWBsaTq9YWxS9HAw'}], 'price_level': 2, 'opening_hours': {'open_now': True}, 'types': ['convenience_store', 'store', 'health', 'point_of_interest', 'food', 'establishment'], 'rating': 3.5, 'place_id': 'ChIJ282XdhtcwokRJSGZn3wlI-U', 'id': '6cef29fb6ce6d447d1fa56d0cc57419a15b08715', 'name': 'Rite Aid', 'reference': 'ChIJ282XdhtcwokRJSGZn3wlI-U', 'plus_code': {'global_code': '87G8P32H+88', 'compound_code': 'P32H+88 Brooklyn, New York, USA'}}, {'user_ratings_total': 64, 'formatted_address': '1366 Broadway, Brooklyn, NY 11221, USA', 'geometry': {'viewport': {'northeast': {'lng': -73.92084127010729, 'lat': 40.69071207989272}, 'southwest': {'lng': -73.92354092989272, 'lat': 40.68801242010728}}, 'location': {'lng': -73.92217, 'lat': 40.68925309999999}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png', 'photos': [{'width': 5376, 'height': 3024, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/115084574567166619932/photos">Aaron Feldman</a>'], 'photo_reference': 'CmRaAAAASALDnfoDiogiYMj5as7_dKM_03kp5b1XfApUt6flpAXE7CixmdjipUrXfdx_5IzqhLsxLJWPaAfVhfHmZR84W_PcP2G-EjNd5yZOkQtLbY1Ft494ZcRZSFTpwM4fODC7EhBS8qzziDeQYnzJKk4imGu5GhTXMoQx4EknmJu8Kn6bfzqzJ0odvA'}], 'price_level': 2, 'opening_hours': {'open_now': True}, 'types': ['convenience_store', 'clothing_store', 'store', 'health', 'point_of_interest', 'food', 'establishment'], 'rating': 2.6, 'place_id': 'ChIJx7yE9xJcwokRATeoj4M7oTM', 'id': '7452be6cb945d4ab4768f2f0dea981c3d77135ee', 'name': 'Walgreens', 'reference': 'ChIJx7yE9xJcwokRATeoj4M7oTM', 'plus_code': {'global_code': '87G8M3QH+P4', 'compound_code': 'M3QH+P4 Brooklyn, New York, USA'}}, {'user_ratings_total': 37, 'formatted_address': '506-528 Utica Ave, Brooklyn, NY 11203, USA', 'geometry': {'viewport': {'northeast': {'lng': -73.93025102010728, 'lat': 40.66242827989272}, 'southwest': {'lng': -73.93295067989273, 'lat': 40.65972862010728}}, 'location': {'lng': -73.9318159, 'lat': 40.6610656}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png', 'photos': [{'width': 251, 'height': 250, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/118090280046463789670/photos">Rite Aid</a>'], 'photo_reference': 'CmRaAAAApDkFqly6XlPNao2WZNbwejoNRTskiSu0_NKagZUhSGC3HmmPASyERwU720z3wV_f51Q-_Gep_G6iCCXbRMHmeMkVtFBcsWrKK6WxB7f9_8Dq184UYbuAR1N5t5nEuty-EhBRr7Y2QPLAIKdezlu5IncaGhSrkDZ0jcdhxtt-Jlu0kZacyJasHw'}], 'price_level': 2, 'opening_hours': {'open_now': True}, 'types': ['convenience_store', 'store', 'health', 'point_of_interest', 'food', 'establishment'], 'rating': 3.9, 'place_id': 'ChIJ507RdINcwokRSgkfCmCf3kU', 'id': 'b86a4d1aa3765728bb132a81b3083a767db39e74', 'name': 'Rite Aid', 'reference': 'ChIJ507RdINcwokRSgkfCmCf3kU', 'plus_code': {'global_code': '87G8M369+C7', 'compound_code': 'M369+C7 Brooklyn, New York, USA'}}, {'user_ratings_total': 45, 'formatted_address': '462 5th Ave, Brooklyn, NY 11215, USA', 'geometry': {'viewport': {'northeast': {'lng': -73.98559162010727, 'lat': 40.66989637989272}, 'southwest': {'lng': -73.98829127989272, 'lat': 40.66719672010728}}, 'location': {'lng': -73.9870194, 'lat': 40.6685838}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png', 'photos': [{'width': 3024, 'height': 4032, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/116418406502215967625/photos">Mira Serrill-Robins</a>'], 'photo_reference': 'CmRaAAAAiNvlLhUc9poUJBkr2UyiPPXnH4x0NqmNGEsKhj_6wqBgMWaQGHxut6PFst1RzU52krM9mQEGazz2BwELnmCKEJR9xDwzps6BSnKaqT2TYvZIUJ3emm432imQlHUxQhYUEhBwhYJnMllmG40VZtEQUAQmGhTV992cGStih6f2tWEKp1_HPVLKVw'}], 'price_level': 2, 'opening_hours': {'open_now': True}, 'types': ['convenience_store', 'store', 'health', 'point_of_interest', 'food', 'establishment'], 'rating': 3.3, 'place_id': 'ChIJV0Z57fxawokRVnjOuDKHHFM', 'id': 'c0c56018799d8138d1df2682b1604475b63629fd', 'name': 'Rite Aid', 'reference': 'ChIJV0Z57fxawokRVnjOuDKHHFM', 'plus_code': {'global_code': '87G8M297+C5', 'compound_code': 'M297+C5 Brooklyn, New York, USA'}}, {'user_ratings_total': 64, 'formatted_address': '210 Union Ave, Brooklyn, NY 11211, USA', 'geometry': {'viewport': {'northeast': {'lng': -73.94860392010727, 'lat': 40.70812752989271}, 'southwest': {'lng': -73.95130357989272, 'lat': 40.70542787010727}}, 'location': {'lng': -73.949967, 'lat': 40.7068601}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png', 'photos': [{'width': 4032, 'height': 3024, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/100977787671095852487/photos">Bekzod Ahmedov</a>'], 'photo_reference': 'CmRaAAAAUECPCjBESShMvR0WWpFqJACKKcHMmFp_YRB6hu9RZ3EAgr3wz-RT9Vp7X0mZ4OJDI_hFuE_9GSWleWelaYOSay4-y229-JTSjSPU0A8oAzUTEfXLDAgPCe57O3QSyPgrEhDvot0miuXE4J6dx66PD-hUGhRbwEUCLA_cBA1LufwQdKaFbiYyZg'}], 'price_level': 2, 'opening_hours': {'open_now': True}, 'types': ['convenience_store', 'clothing_store', 'store', 'health', 'point_of_interest', 'food', 'establishment'], 'rating': 3.4, 'place_id': 'ChIJVa1ZfONbwokR588idfWhlRU', 'id': '88dfffb9d6736740cb0e110edde7e152d09a9742', 'name': 'Walgreens', 'reference': 'ChIJVa1ZfONbwokR588idfWhlRU', 'plus_code': {'global_code': '87G8P342+P2', 'compound_code': 'P342+P2 Brooklyn, New York, USA'}}, {'user_ratings_total': 6, 'rating': 3.8, 'geometry': {'viewport': {'northeast': {'lng': -73.94942442010728, 'lat': 40.66931072989272}, 'southwest': {'lng': -73.95212407989271, 'lat': 40.66661107010728}}, 'location': {'lng': -73.95087199999999, 'lat': 40.6679663}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png', 'formatted_address': '878 Nostrand Ave, Brooklyn, NY 11225, USA', 'plus_code': {'global_code': '87G8M29X+5M', 'compound_code': 'M29X+5M New York, USA'}, 'opening_hours': {'open_now': True}, 'place_id': 'ChIJ7yZ04XZbwokRRXdYFQz-fTw', 'id': '89732fc7b2cda5f6d4f666b208ee150b3268cf2c', 'name': 'Evans Drug Store Inc', 'reference': 'ChIJ7yZ04XZbwokRRXdYFQz-fTw', 'types': ['pharmacy', 'store', 'health', 'point_of_interest', 'establishment']}, {'user_ratings_total': 38, 'formatted_address': '379 Myrtle Ave, Brooklyn, NY 11205, USA', 'geometry': {'viewport': {'northeast': {'lng': -73.96974477010728, 'lat': 40.69457107989273}, 'southwest': {'lng': -73.97244442989273, 'lat': 40.69187142010728}}, 'location': {'lng': -73.9710908, 'lat': 40.6932684}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png', 'photos': [{'width': 4000, 'height': 2992, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/108934093248786662791/photos">Ian McKenney</a>'], 'photo_reference': 'CmRaAAAAa2lpkP-1dqs0KRm1wbsxxupqpht2_HsPqlYdqcMeq52t8LmOXM008WYGCczJa8YFFlfgZqexByGW-2vhtWaWaA2ghpN_q8i8eONx3eaaPQa4xEdZnipQtTNn2bYRtIKfEhD4m7fyNkLGBYTuwJ5fO5d-GhRdZrKBuO-byJXyM6lXyjXp4j6WGA'}], 'price_level': 2, 'opening_hours': {'open_now': True}, 'types': ['convenience_store', 'clothing_store', 'store', 'health', 'point_of_interest', 'food', 'establishment'], 'rating': 3.7, 'place_id': 'ChIJGV4IHLhbwokRoVd3p-Ml4vM', 'id': '2ca144816d320f981c05819aadd3cb8f6b4e7419', 'name': 'Walgreens', 'reference': 'ChIJGV4IHLhbwokRoVd3p-Ml4vM', 'plus_code': {'global_code': '87G8M2VH+8H', 'compound_code': 'M2VH+8H Brooklyn, New York, USA'}}, {'user_ratings_total': 24, 'formatted_address': '1154 Clarkson Ave, Brooklyn, NY 11212, USA', 'geometry': {'viewport': {'northeast': {'lng': -73.91888782010729, 'lat': 40.66199922989272}, 'southwest': {'lng': -73.92158747989272, 'lat': 40.65929957010727}}, 'location': {'lng': -73.920321, 'lat': 40.6607346}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png', 'photos': [{'width': 251, 'height': 250, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/118319178051092885324/photos">Rite Aid</a>'], 'photo_reference': 'CmRaAAAAZrRDVd_gmkJVBUWdKU7D_f0uRjxInyAUFGMsCDzmchGnugvabisWRyxKGFiBLbXBxLzbUuVFuiCfexbTm_vYGuiZ6Fe6spy7GKjVuxGon4Cn9nSgSCzGpJiA7_w-lSQ6EhB7AwKPR-R6TjuTPJPzD8WzGhRnjQQ5iR8JMNMDxC14Y-DKHWm6XQ'}], 'price_level': 2, 'opening_hours': {'open_now': True}, 'types': ['convenience_store', 'store', 'health', 'point_of_interest', 'food', 'establishment'], 'rating': 2.9, 'place_id': 'ChIJ5WIM6Y5cwokRtTbUsz0wb1M', 'id': '231eb44750180600520af6af9a9d4d0a4e9e6478', 'name': 'Rite Aid', 'reference': 'ChIJ5WIM6Y5cwokRtTbUsz0wb1M', 'plus_code': {'global_code': '87G8M36H+7V', 'compound_code': 'M36H+7V Brooklyn, New York, USA'}}, {'user_ratings_total': 39, 'formatted_address': '55-60 Myrtle Ave, Ridgewood, NY 11385, USA', 'geometry': {'viewport': {'northeast': {'lng': -73.90490912010728, 'lat': 40.70138522989271}, 'southwest': {'lng': -73.90760877989273, 'lat': 40.69868557010727}}, 'location': {'lng': -73.9062478, 'lat': 40.6999687}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png', 'photos': [{'width': 3024, 'height': 4032, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/104057369039635295458/photos">Pablo N.</a>'], 'photo_reference': 'CmRaAAAAn49ZHllFLB6MNHCYYDmfPPNNDqm5a-xN2knSUTyEycM7Qr1O-VS4wTexFoTsHBE4vUoUWLvh3ULFAkGFHO38YJ6OOoyK9kY_5y-dAmNfgfw9o9v4orIeua20dF-xbb8WEhCmoVsa0tdODwdmNS6Hax8_GhRDq2N3RcuEwi6dH2CuNOneRZsS9w'}], 'price_level': 2, 'opening_hours': {'open_now': True}, 'types': ['convenience_store', 'store', 'health', 'point_of_interest', 'food', 'establishment'], 'rating': 4.2, 'place_id': 'ChIJQfEtqiZcwokRPN3cYo9Nppc', 'id': 'ffcf06ed48bf4851bb989413c4ab289cdb9c6dbe', 'name': 'Rite Aid', 'reference': 'ChIJQfEtqiZcwokRPN3cYo9Nppc', 'plus_code': {'global_code': '87G8M3XV+XG', 'compound_code': 'M3XV+XG Ridgewood, Queens, NY, USA'}}, {'user_ratings_total': 58, 'formatted_address': '1950 Fulton St, Brooklyn, NY 11233, USA', 'geometry': {'viewport': {'northeast': {'lng': -73.91998217010728, 'lat': 40.67979257989272}, 'southwest': {'lng': -73.92268182989271, 'lat': 40.67709292010727}}, 'location': {'lng': -73.9211983, 'lat': 40.6784136}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png', 'photos': [{'width': 251, 'height': 250, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/112057771835154651466/photos">Rite Aid</a>'], 'photo_reference': 'CmRaAAAAdzuU0NwmR9jITUMy7OeydN4wtq9q_x2Vq8AaJSR3-OKA0j5DCWdVg5O8iBerEGQihwteYmcQk6p_-Df5EU_l1DabXZl7mPz70egf5_hhfwC_7eJQKzcr3JgFlwt2GYPwEhBdVs_ocQycJGn8rYxgpnYLGhQI9MAJkkkckFxORqx6Q1e_A9efbw'}], 'price_level': 2, 'opening_hours': {'open_now': True}, 'types': ['convenience_store', 'store', 'health', 'point_of_interest', 'food', 'establishment'], 'rating': 2.7, 'place_id': 'ChIJxfsJD29cwokRy1OAKhBqTxI', 'id': '2deaa0fd4012af3c5d4d2b847b0f4e1370dc6992', 'name': 'Rite Aid', 'reference': 'ChIJxfsJD29cwokRy1OAKhBqTxI', 'plus_code': {'global_code': '87G8M3HH+9G', 'compound_code': 'M3HH+9G Brooklyn, New York, USA'}}, {'user_ratings_total': 37, 'formatted_address': '27 N 6th St, Brooklyn, NY 11249, USA', 'geometry': {'viewport': {'northeast': {'lng': -73.96101352010727, 'lat': 40.72124847989272}, 'southwest': {'lng': -73.96371317989271, 'lat': 40.71854882010727}}, 'location': {'lng': -73.96229989999999, 'lat': 40.7199553}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png', 'photos': [{'width': 4032, 'height': 3024, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/104578114555434231443/photos">Jose R. Lopez</a>'], 'photo_reference': 'CmRaAAAAQmZBGQLKnRjiGXtK1kqJd72IZuUhmBhq-7DTX1Z0UxGDE9KNGDhvC1hnIeWIfZjq2TA0NCDijclb0cHySRqzabDFxBT2EiOCLIGMm2g1E5EANeqxkigFZIo6CJAd-HjEEhDfoJD4sfRnLuDCvnzuS2DLGhTk8BuuTRrSiNRh0k7AoJ5a2ntXzg'}], 'opening_hours': {'open_now': True}, 'types': ['convenience_store', 'store', 'health', 'point_of_interest', 'food', 'establishment'], 'rating': 4.1, 'place_id': 'ChIJLfKkU2ZZwokRxWBJnvMpxVk', 'id': '3635505fef206c4f52cd1fa2578922cc77ae9f75', 'name': 'CVS', 'reference': 'ChIJLfKkU2ZZwokRxWBJnvMpxVk', 'plus_code': {'global_code': '87G8P29Q+X3', 'compound_code': 'P29Q+X3 Brooklyn, New York, USA'}}, {'user_ratings_total': 82, 'formatted_address': '329-339 Wyckoff Ave, Ridgewood, NY 11385, USA', 'geometry': {'viewport': {'northeast': {'lng': -73.90980732010728, 'lat': 40.70100287989273}, 'southwest': {'lng': -73.91250697989273, 'lat': 40.69830322010728}}, 'location': {'lng': -73.91111649999999, 'lat': 40.69969700000001}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png', 'photos': [{'width': 2988, 'height': 5312, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/112435112523680212019/photos">Alan Littleboy</a>'], 'photo_reference': 'CmRaAAAA4dK0Z1biRN_KVTcwEnh8wVsHrkzbuRMxWePLzVtcIaqH8_RewPFp5q7BHXbJrz9JUE0QVgvGCz229-zh4u8MXI3knDQX6sbq1sJtFX94bWbA-jIh786FIdgPFpwbu4rUEhDsBJmvhk3a1GF6-tpqMaHRGhSxvV-u8VNXGQj0J7790j-NGPZy3w'}], 'opening_hours': {'open_now': True}, 'types': ['convenience_store', 'store', 'health', 'point_of_interest', 'food', 'establishment'], 'rating': 2.7, 'place_id': 'ChIJd8D9FiJcwokRIqkckezPjrs', 'id': '7d0f593ea5cbd49492a7c7ee34b557d8d9f2aa25', 'name': 'CVS', 'reference': 'ChIJd8D9FiJcwokRIqkckezPjrs', 'plus_code': {'global_code': '87G8M3XQ+VH', 'compound_code': 'M3XQ+VH Ridgewood, Queens, NY, USA'}}, {'user_ratings_total': 10, 'formatted_address': '101 2nd Ave, New York, NY 10003, USA', 'geometry': {'viewport': {'northeast': {'lng': -73.98737502010727, 'lat': 40.72870297989272}, 'southwest': {'lng': -73.99007467989271, 'lat': 40.72600332010727}}, 'location': {'lng': -73.98884079999999, 'lat': 40.72740230000001}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png', 'photos': [{'width': 2773, 'height': 2773, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/107843557124457398585/photos">Francis Rocco</a>'], 'photo_reference': 'CmRaAAAApD7XIxlf6ACyQfV6UWIfbafRzFNbt3aEoufFFZQYPxG7H86EBhtkO7dwe_z_M1evQZyZ0ZXlODr54GhQFtmahE2e12zjp6t5ixzCZHJnVBVCP7tSmwWxECEXruX33ebSEhCeVhSQ0tKriUSnD9AoE_8eGhQoItYPSiPuc0OFJwEHXFspLcTGcw'}], 'opening_hours': {'open_now': True}, 'types': ['store', 'health', 'point_of_interest', 'establishment'], 'rating': 4.3, 'place_id': 'ChIJT5aLX5tZwokRFuz5h0KWsEo', 'id': '99ab943cb356da1d86e761fc7dd39703f9d4766f', 'name': 'Block Drug Store', 'reference': 'ChIJT5aLX5tZwokRFuz5h0KWsEo', 'plus_code': {'global_code': '87G8P2G6+XF', 'compound_code': 'P2G6+XF New York, USA'}}, {'user_ratings_total': 27, 'formatted_address': '150 Court St, Brooklyn, NY 11201, USA', 'geometry': {'viewport': {'northeast': {'lng': -73.99149327010728, 'lat': 40.69023682989272}, 'southwest': {'lng': -73.99419292989273, 'lat': 40.68753717010728}}, 'location': {'lng': -73.9929197, 'lat': 40.6889079}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png', 'photos': [{'width': 4032, 'height': 3024, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/116417326968419994810/photos">Denis Fornolyak</a>'], 'photo_reference': 'CmRaAAAA1F4VoziaLYBSjOMWCrsr_CuisxpbNrqNl_B1_bhmbyQZN6_E_uKb6XUqkAWTNsJrt9D0DHQXzL0_USVeyuQ73hP5keItWO7P5dL5exoABu8AbD7N3y9WZx27IuSMdx5aEhBkHxNlwYxdC3sqMABUBGhMGhQCrYI6awKTMUJDIoK6a7QMFvWT6w'}], 'opening_hours': {'open_now': True}, 'types': ['convenience_store', 'store', 'health', 'point_of_interest', 'food', 'establishment'], 'rating': 3.2, 'place_id': 'ChIJPYI7uU9awokR0wGIsSM2EE0', 'id': 'fc30b2146154c7876e617efb7e88ba141e400205', 'name': 'CVS', 'reference': 'ChIJPYI7uU9awokR0wGIsSM2EE0', 'plus_code': {'global_code': '87G8M2Q4+HR', 'compound_code': 'M2Q4+HR Brooklyn, New York, USA'}}, {'user_ratings_total': 26, 'formatted_address': '156 Henry St, Brooklyn, NY 11201, USA', 'geometry': {'viewport': {'northeast': {'lng': -73.99251377010728, 'lat': 40.69734152989272}, 'southwest': {'lng': -73.99521342989271, 'lat': 40.69464187010728}}, 'location': {'lng': -73.9939782, 'lat': 40.6960237}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/shopping-71.png', 'photos': [{'width': 1067, 'height': 800, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/107111476969648468128/photos">CVS Pharmacy | Photo</a>'], 'photo_reference': 'CmRaAAAASRrpBG88YknJIoeY9CuLpx6GSjUri_YU-mljKW4V9Vse7Qd_ppEY4ZXGM-GUG-_gDpgcwdWhQHe51-4I8MTpnOsrBi5TBw_O1YC2Lss8plT1boF59DCUxEG1qtbeWYRTEhBYddL3Q-I4S0aAwMf2Gl-DGhTGTX6QOp4qgc0fJcQxQjCiZqSQAg'}], 'opening_hours': {'open_now': True}, 'types': ['convenience_store', 'store', 'health', 'point_of_interest', 'food', 'establishment'], 'rating': 4.2, 'place_id': 'ChIJqyUgbUhawokRCbWATPB_JaE', 'id': '5b59dd6f60ef21906797695fd4edc1942172b649', 'name': 'CVS', 'reference': 'ChIJqyUgbUhawokRCbWATPB_JaE', 'plus_code': {'global_code': '87G8M2W4+CC', 'compound_code': 'M2W4+CC Brooklyn, New York, USA'}}], 'html_attributions': [], 'next_page_token': 'CpQCDwEAAMhn-x29fxK739Yfz3bGqY3Ok5lPN8x6XqhGPlUyYASaGSCNgAZMsyeDPF_StcnXk_IKRwT1hcijn6LHVqQkvoaKbbB9dit2bh47KTf8oXJPkgDCsgAdYvuB3-iTKBtpWQ_W9OEQZIqJ11meP5MnzBzY7eHbVmzEbgSKhy_Q7LC--4jkwC68gH8n9MzvRXO0G__5lC0qelXlxF6xP4RcurdWkd9XhMfCNnLXrdTU1U-_sUQlK_PUckz6Ec6Xi-k_vYFtuy4SNkAUd1LGejv4Z-NX5g2poiYizZ-M3rImgxAn7eEZFw6BBuxMArrK4odSyyvbMi6Jq57-yl1XuwJjNLN_LCoisLQCKj1d0rYZTKXkEhA6wrG9QzDxG1G7qH9vOBD5GhRwUi8JXbfC3HwRXVVnQEqYLoHzLQ'}
	return get_locations(test)

def get_places(location, radius, query="pharmacy"):
	gmaps = googlemaps.Client(key=get_api_key())
	places = gmaps.places(query, location=location, radius=radius)
	return get_locations(places)

def haversine(origin, destination):
	lat1, lon1 = origin
	lat2, lon2 = destination
	radius = 6371

	dlat = math.radians(lat2-lat1)
	dlon = math.radians(lon2-lon1)
	a = math.sin(dlat/2) * math.sin(dlat/2) + math.cos(math.radians(lat1)) * math.cos(math.radians(lat2)) * math.sin(dlon/2) * math.sin(dlon/2)
	c = 2 * math.atan2(math.sqrt(a), math.sqrt(1-a))
	d = radius * c

	return d

def get_lat_with_meter(latitude, meters):
    earth = 6378.137
    m = (1 / ((2 * math.pi / 360) * earth)) / 1000
    
    if random.randint(0,1): 
        return latitude + (meters * m)
    else:
        return latitude - (meters * m)

def get_lng_with_meter(latitude, longitude, meters):
    earth = 6378.137
    m = (1 / ((2 * math.pi / 360) * earth)) / 1000

    if random.randint(0,1):
        return longitude + (meters * m) / math.cos(latitude * (math.pi / 180))
    else:
        return longitude - (meters * m) / math.cos(latitude * (math.pi / 180))